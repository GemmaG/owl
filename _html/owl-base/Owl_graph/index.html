<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Owl_graph (owl-base.Owl_graph)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../index.html">owl-base</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Owl_graph</span></h1></header><p>Graph module supports basic operations on DAG.</p><div class="h7">Type definition</div><div class="spec type" id="type-order"><a href="#type-order" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>order</code><code></code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-order.BFS" class="anchored"><td class="def constructor"><a href="#type-order.BFS" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">BFS</span></code></td></tr><tr id="type-order.DFS" class="anchored"><td class="def constructor"><a href="#type-order.DFS" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">DFS</span></code></td><td class="doc"><p>(** Order to traverse a graph, BFS or DFS. *)</p></td></tr></table><code></code></div><div class="doc"></div></div><div class="spec type" id="type-dir"><a href="#type-dir" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>dir</code><code></code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-dir.Ancestor" class="anchored"><td class="def constructor"><a href="#type-dir.Ancestor" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Ancestor</span></code></td></tr><tr id="type-dir.Descendant" class="anchored"><td class="def constructor"><a href="#type-dir.Descendant" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Descendant</span></code></td><td class="doc"><p>(** Iteration direction, i.e. ancestors or descendants *)</p></td></tr></table><code></code></div><div class="doc"></div></div><div class="spec type" id="type-node"><a href="#type-node" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>'a node</code><code></code><code></code></div><div class="doc"><p>type definition of a node</p></div></div><div class="h7">Obtaining properties</div><div class="spec val" id="val-id"><a href="#val-id" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>id : <span class="type-var">'a</span> <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p>``id x`` returns the id of node ``x``.</p></div></div><div class="spec val" id="val-name"><a href="#val-name" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>name : <span class="type-var">'a</span> <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> string</code></div><div class="doc"><p>``name x`` returns the name string of node ``x``.</p></div></div><div class="spec val" id="val-parents"><a href="#val-parents" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>parents : <span class="type-var">'a</span> <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-node">node</a> array</code></div><div class="doc"><p>``parents x`` returns the parents of node ``x``.</p></div></div><div class="spec val" id="val-children"><a href="#val-children" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>children : <span class="type-var">'a</span> <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-node">node</a> array</code></div><div class="doc"><p>``children x`` returns the children of node ``x``.</p></div></div><div class="spec val" id="val-indegree"><a href="#val-indegree" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>indegree : <span class="type-var">'a</span> <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p>``indegree x`` returns the in-degree of node ``x``.</p></div></div><div class="spec val" id="val-outdegree"><a href="#val-outdegree" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>outdegree : <span class="type-var">'a</span> <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p>``outdegree x`` returns the out-degree of node ``x``.</p></div></div><div class="spec val" id="val-attr"><a href="#val-attr" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>attr : <span class="type-var">'a</span> <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span></code></div><div class="doc"><p>``attr x`` returns the ``attr`` field of node ``x``.</p></div></div><div class="spec val" id="val-set_attr"><a href="#val-set_attr" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>set_attr : <span class="type-var">'a</span> <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>``set_attr x`` sets the ``attr`` field of node ``x``.</p></div></div><div class="h7">Manipulation functions</div><div class="spec val" id="val-node"><a href="#val-node" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>node : ?&#8288;id:int <span class="keyword">&#8209;&gt;</span> ?&#8288;name:string <span class="keyword">&#8209;&gt;</span> ?&#8288;prev:<span class="type-var">'a</span> <a href="index.html#type-node">node</a> array <span class="keyword">&#8209;&gt;</span> ?&#8288;next:<span class="type-var">'a</span> <a href="index.html#type-node">node</a> array <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-node">node</a></code></div><div class="doc"><p>``node ~id ~name ~prev ~next attr`` creates a node with given id and name
string. The created node is also connected to parents in ``prev`` and children
in ``next``. The ``attr`` will be saved in ``attr`` field.</p></div></div><div class="spec val" id="val-connect"><a href="#val-connect" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>connect : <span class="type-var">'a</span> <a href="index.html#type-node">node</a> array <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-node">node</a> array <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>``connect parents children`` connects a set of parents to a set of children.
The created links are the Cartesian product of parents and children.</p></div></div><div class="spec val" id="val-remove_node"><a href="#val-remove_node" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>remove_node : <span class="type-var">'a</span> <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>``remove_node x`` removes node ``x`` from the graph by disconnecting itself
from all its parent nodes and child nodes.</p></div></div><div class="spec val" id="val-remove_edge"><a href="#val-remove_edge" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>remove_edge : <span class="type-var">'a</span> <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>``remove_edge src dst`` removes a link ``src -&gt; dst`` from the graph. Note that
it does not remove <code class="code">dst -&gt; src</code> if there exists one.</p></div></div><div class="spec val" id="val-copy"><a href="#val-copy" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>copy : ?&#8288;dir:<a href="index.html#type-dir">dir</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-node">node</a> array <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-node">node</a> array</code></div><div class="doc"><p>``copy ~dir x`` makes a copy of ``x`` and all its ancestors
(if ``dir = Ancestor``) or all its descendants (if ``dir = Descendant``).</p><p>Note that this function only makes a copy of the graph structure, ``attr``
fileds of the nodes in the new graph share the same memory with those in the
original graph.</p></div></div><div class="h7">Iterators</div><div class="spec val" id="val-iter_ancestors"><a href="#val-iter_ancestors" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>iter_ancestors : ?&#8288;order:<a href="index.html#type-order">order</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span> <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> unit) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-node">node</a> array <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Iterate the ancestors of a given node.</p></div></div><div class="spec val" id="val-iter_descendants"><a href="#val-iter_descendants" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>iter_descendants : ?&#8288;order:<a href="index.html#type-order">order</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span> <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> unit) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-node">node</a> array <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Iterate the descendants of a given node.</p></div></div><div class="spec val" id="val-filter_ancestors"><a href="#val-filter_ancestors" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>filter_ancestors : (<span class="type-var">'a</span> <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> bool) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-node">node</a> array <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-node">node</a> array</code></div><div class="doc"><p>Filter the ancestors of a given node.</p></div></div><div class="spec val" id="val-filter_descendants"><a href="#val-filter_descendants" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>filter_descendants : (<span class="type-var">'a</span> <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> bool) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-node">node</a> array <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-node">node</a> array</code></div><div class="doc"><p>Iterate the descendants of a given node.</p></div></div><div class="spec val" id="val-fold_ancestors"><a href="#val-fold_ancestors" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>fold_ancestors : (<span class="type-var">'b</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span>) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-node">node</a> array <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span></code></div><div class="doc"><p>Fold the ancestors of a given node.</p></div></div><div class="spec val" id="val-fold_descendants"><a href="#val-fold_descendants" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>fold_descendants : (<span class="type-var">'b</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span>) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-node">node</a> array <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span></code></div><div class="doc"><p>Fold the descendants of a given node.</p></div></div><div class="spec val" id="val-iter_in_edges"><a href="#val-iter_in_edges" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>iter_in_edges : ?&#8288;order:<a href="index.html#type-order">order</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span> <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> unit) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-node">node</a> array <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Iterate all the in-edges of a given node.</p></div></div><div class="spec val" id="val-iter_out_edges"><a href="#val-iter_out_edges" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>iter_out_edges : ?&#8288;order:<a href="index.html#type-order">order</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span> <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> unit) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-node">node</a> array <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Iterate all the out-edges of a given node.</p></div></div><div class="spec val" id="val-fold_in_edges"><a href="#val-fold_in_edges" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>fold_in_edges : (<span class="type-var">'b</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span>) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-node">node</a> array <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span></code></div><div class="doc"><p>Fold all the in-edges of a given node.</p></div></div><div class="spec val" id="val-fold_out_edges"><a href="#val-fold_out_edges" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>fold_out_edges : (<span class="type-var">'b</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span>) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-node">node</a> array <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span></code></div><div class="doc"><p>Fold all the out-edges of a given node.</p></div></div><div class="h7">Helper functions</div><div class="spec val" id="val-pp_node"><a href="#val-pp_node" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pp_node : Format.formatter <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Pretty print a given node.</p></div></div><div class="spec val" id="val-to_string"><a href="#val-to_string" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>to_string : bool <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-node">node</a> array <span class="keyword">&#8209;&gt;</span> string</code></div><div class="doc"><p>Convert a given node to its string representaion.</p></div></div></body></html>